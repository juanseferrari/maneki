<!-- Conexiones Section -->
<section id="section-configuracion" class="content-section">
  <div class="section-header">
    <h1>Configuración</h1>
    <p>Conecta tus cuentas y configura opciones de carga</p>
  </div>

  <!-- Email Upload Section -->
  <div class="settings-section">
    <h2 class="settings-section-title">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
        <polyline points="22,6 12,13 2,6"></polyline>
      </svg>
      Carga por Email
    </h2>
    <p class="settings-section-description">Reenvía extractos bancarios y comprobantes a tu email personalizado para cargarlos automáticamente</p>

    <div class="email-upload-card" id="email-upload-card">
      <div class="email-upload-loading" id="email-upload-loading">
        <div class="spinner"></div>
        <span>Cargando...</span>
      </div>

      <div class="email-upload-content" id="email-upload-content" style="display: none;">
        <div class="email-upload-address">
          <label>Tu email de carga:</label>
          <div class="email-copy-container">
            <input type="text" id="upload-email-address" readonly class="email-address-input" />
            <button class="btn-copy" onclick="copyUploadEmail()" title="Copiar email">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
              </svg>
            </button>
          </div>
        </div>

        <div class="email-upload-instructions">
          <h4>Cómo funciona:</h4>
          <ol>
            <li>Reenvía cualquier email con archivos adjuntos a tu dirección de carga</li>
            <li>Los archivos se procesarán automáticamente</li>
            <li>Verás los resultados en tu dashboard en pocos minutos</li>
          </ol>
          <p class="email-supported-formats">
            <strong>Formatos soportados:</strong> PDF, CSV, XLSX, XLS, PNG, JPG
          </p>
        </div>

        <div class="email-upload-actions">
          <button class="btn-secondary" onclick="regenerateUploadEmail()">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="23 4 23 10 17 10"></polyline>
              <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
            </svg>
            Regenerar Email
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Conexiones Section -->
  <div class="settings-section">
    <h2 class="settings-section-title">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
        <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
      Conexiones
    </h2>
    <p class="settings-section-description">Conecta tus cuentas bancarias y servicios de pago para sincronizar automáticamente</p>
  </div>

  <div class="connections-container">
    <div class="connection-card" id="mercadopago-card">
      <div class="connection-header">
        <div class="connection-icon mercadopago-icon">
          <img src="/images/mercadopago.png" alt="Mercado Pago" />
        </div>
        <div class="connection-info">
          <h3>Mercado Pago</h3>
          <p class="connection-status disconnected" id="mercadopago-status">No conectado</p>
        </div>
      </div>
      <p class="connection-description">Conecta tu cuenta de Mercado Pago para importar transacciones automáticamente</p>
      <button class="btn-connection" id="mercadopago-btn" onclick="connectMercadoPago()">Conectar Mercado Pago</button>
    </div>

    <div class="connection-card" id="eubanks-card">
      <div class="connection-header">
        <div class="connection-icon">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            <polyline points="9 22 9 12 15 12 15 22"></polyline>
          </svg>
        </div>
        <div class="connection-info">
          <h3>Bancos Europeos</h3>
          <p class="connection-status disconnected" id="eubanks-status">No conectado</p>
        </div>
      </div>
      <p class="connection-description">Conecta tus cuentas bancarias europeas para sincronizar movimientos</p>
      <button class="btn-connection" id="eubanks-btn" onclick="connectEuBank()">Conectar Banco</button>
    </div>

    <div class="connection-card disabled">
      <div class="connection-header">
        <div class="connection-icon">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="8" x2="12" y2="12"></line>
            <line x1="12" y1="16" x2="12.01" y2="16"></line>
          </svg>
        </div>
        <div class="connection-info">
          <h3>Más Conexiones</h3>
          <p class="connection-status">Próximamente</p>
        </div>
      </div>
      <p class="connection-description">Más integraciones disponibles pronto</p>
    </div>
  </div>
</section>
